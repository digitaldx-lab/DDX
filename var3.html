<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ElevenLabs Voice Test</title>
<script>
async function speak() {
    const text = document.getElementById("text").value.trim();
    if (!text) return alert("Enter text first.");

    const voiceId = "JBFqnCBsd6RMkjVDRZzb"; // You can change voice here
    const apiKey = "sk_134730a53c9c5527e701e041c5b16861a309f96b75580270"; // <--- Replace this

    try {
        const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "xi-api-key": apiKey
            },
            body: JSON.stringify({
                text: text,
                model_id: "eleven_multilingual_v2",
                voice_settings: {
                    stability: 0.5,
                    similarity_boost: 0.7
                }
            })
        });

        if (!response.ok) {
            throw new Error("API request failed.");
        }

        const audioData = await response.arrayBuffer();
        const blob = new Blob([audioData], { type: "audio/mpeg" });
        const url = URL.createObjectURL(blob);

        const audio = document.getElementById("audio");
        audio.src = url;
        audio.play();
    } catch (error) {
        console.error(error);
        alert("Error: " + error.message);
    }
}
</script>

<style>
body {
    background: #0e0e0e;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 60px;
}
textarea {
    width: 400px;
    height: 120px;
    background: #1c1c1c;
    border: 1px solid #444;
    border-radius: 6px;
    color: #fff;
    padding: 10px;
    font-size: 16px;
}
button {
    margin-top: 12px;
    padding: 10px 22px;
    background: #0066ff;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    color: #fff;
}
button:hover { background: #004ecc; }
audio { margin-top: 20px; }
</style>
</head>

<body>

<h2>Text to Speech (ElevenLabs)</h2>

<textarea id="text">The first move is what sets everything in motion.</textarea>

<button onclick="speak()">Speak</button>

<audio id="audio" controls></audio>

</body>
</html>
